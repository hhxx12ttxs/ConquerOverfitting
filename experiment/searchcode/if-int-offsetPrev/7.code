if (prev < instantAdjusted)
{
int offsetPrev = getOffset(prev);
int diff = offsetPrev - offsetLocal;

if (instantAdjusted - prev <= diff)

