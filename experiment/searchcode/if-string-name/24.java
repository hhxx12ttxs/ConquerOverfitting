/**
 * This is free software; you can redistribute it and/or modify it under the
 * terms of the GNU Lesser General Public License as published by the Free
 * Software Foundation; either version 2.1 of the License, or (at your option)
 * any later version.
 *
 * This software is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more
 * details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this software; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA, or see the FSF
 * site: http://www.fsf.org.
 */

package org.mobicents.ssf.context;

import javax.servlet.sip.SipApplicationSession;
import javax.servlet.sip.SipServletMessage;
import javax.servlet.sip.SipSession;

import org.mobicents.ssf.bind.SignalingResult;


/**
 * <p>
 * SIP????????????????????????
 * </p>
 * sipMessage,sipSession,sipApplicationSession?????????????????????
 * 
 * @author nisihara
 *
 */
public interface SignalingAttributes {

    public enum ScopeType {
        SIP_MESSAGE, SIP_SESSION, SIP_APPLICATION_SESSION, SIP_FLOW
    };
    
    /**
     * ??????????????
     * 
     * @return ????
     */
    Object getOriginalEvent();

    /**
     * ???????????????????
     * @param name ???
     * @param scope ????
     * @return ???
     */
    Object getAttribute(String name, ScopeType scope);
    
    /**
     * ???????????????????
     * @param name ???
     * @param value ???
     * @param scope ????
     */
    void setAttribute(String name, Object value, ScopeType scope);
    
    /**
     * ???????????????????
     * @param name ???
     * @param scope ????
     */
    void removeAttribute(String name, ScopeType scope);
    
    /**
     * ??????????????????????
     * @param scope ????
     * @return ??????
     */
    //String[] getAttributeNames(ScopeType scope);
    
    /**
     * ??????????????????????????callback????????
     * @param name
     * @param callback
     * @param scope
     */
    void registerDestructionCallback(String name, Runnable callback, ScopeType scope);
    
    /**
     * SipSession?ID??????
     * @return SipSession?ID
     */
    String getSessionId();
    
    /**
     * SipApplicationSession?ID??????
     * @return SipApplicationSession?ID
     */
    String getApplicationSessionId();
    

    /**
     * ????????SipServletmessage??????????????null???????
     * @return SipServletMessage
     */
    SipServletMessage getSipServletMessage();
    
    /**
     * ????????SipSession??????????????null???????
     * @return SipSession
     */
    SipSession getSipSession();
    
    /**
     * ???????????????????????SipSession??????
     * ????????null???????
     * 
     * @param name ?????????????
     * @return SipSession
     */
    SipSession getSipSession(String name);
    
    /**
     * ????????SipApplicationSession??????????????null???????
     * @return SipApplicationSession
     */
    SipApplicationSession getSipApplicationSession();
    
    
    /**
     * <p>
     * ??????????????????
     * </p>
     * ?????????SipSession,SipApplicationSession,String(SipSession,SipApplicationSession?ID???????
     * ?????????????????????
     * 
     * @param obj ????????
     * @param name ??
     * @return ??
     */
    void setSignalingName(Object obj, String name);
    
    /**
     * <p>
     * ???????????????????
     * </p>
     * ?????????SipSession,SipApplicationSession,String(SipSession,SipApplicationSession?ID???????
     * ?????????????????????
     * 
     * @param obj ????????
     * @param name ??
     * @return ??
     */
    void setStateName(Object obj, String name);

    /**
     * <p>
     * ???????????????????????
     * </p>
     * ???????????SipSession,SipApplicationSession?????????????
     * 
     * @param obj ????????
     * @return ??
     */
    String getSignalingName(Object obj);

    /**
     * <p>
     * ????????????????????????
     * </p>
     * ???????????SipSession,SipApplicationSession?????????????
     * 
     * @param obj ????????
     * @return ??
     */
    String getSignalingState(Object obj);
    
    /**
     * SignalingResult??????
     * 
     * @return SignalingResult
     */
    SignalingResult getSignalingResult();
    
    Object resolveReference(String key);
}

