public static String marshall(IArchive topLevelArchive, IProgressMonitor monitor ) throws XbException {
if( topLevelArchive.isTopLevel() &amp;&amp; topLevelArchive instanceof ArchiveImpl ) {
XMLMemento childMemento = (XMLMemento)memento.createChild(&quot;package&quot;); //$NON-NLS-1$
XbPackage childXb = (XbPackage)i.next();
if( childXb.getName() == null )

