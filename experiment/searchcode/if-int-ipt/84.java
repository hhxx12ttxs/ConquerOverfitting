package ce1002.E4.s101502014;
import javax.swing.*; //??GUI?????
import java.awt.event.ActionEvent; //?????????
import java.awt.event.ActionListener; //?????????
public class E4 extends JFrame implements ActionListener{
	private JButton psh = new JButton("push"); //??push???
	private JButton pop = new JButton("pop"); //??pop???
	private JTextField ipt_content = new JTextField(20); //??input????
	private JTextField rst_content = new JTextField(20); //??result????
	private JLabel ipt = new JLabel("input:"); //??"input:"???
	private	JLabel rst = new JLabel("result:"); //??"result:"???
	String[] stack = new String[100]; //stack???????push???
	int index = 0; //index??stack???
	public static void main(String[] args) {
		E4 frame = new E4("E4"); //????
		frame.setSize(400 , 300); //??????
		frame.setLayout(null); //???????
		frame.setLocationRelativeTo(null); //??????????????
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setVisible(true); //?????
	}
	public E4(String pTitle){
		super(pTitle);
		setLayout(null); //??????? 
		psh.setBounds(100 , 80 , 80 , 30); //??push?????
		pop.setBounds(190 , 80 , 80 , 30); //??pop?????
		ipt_content.setBounds(50 , 10 , 300 , 20); //??input??????
		rst_content.setBounds(50 , 50 , 300 , 20); //??result??????
		ipt.setBounds(10 , 10 , 100 , 20); //??input?????
		rst.setBounds(10 , 50 , 100 , 20); //??result?????
		psh.addActionListener(this); //?push?????????
		pop.addActionListener(this); //?pop?????????
		add(psh); //??push??????
		add(pop); //??pop??????
		add(ipt_content); //??input???????
		add(rst_content); //??result???????
		add(ipt); //??input??????
		add(rst); //??result??????
	}
	public void actionPerformed(ActionEvent e) {
		if (e.getSource() == psh){ //?push?????????
			if(index == 0) //?????stack , ?????","??????stack??
				stack[index] = ipt_content.getText();
			else //????stack , ??????stack???input??????
				stack[index] = stack[index - 1] + "," + ipt_content.getText();
			rst_content.setText(stack[index]); //?????result????
			index++; //stack????
		}
		else if(e.getSource() == pop){ //?pop?????????
			if(index == 0 || index == 1) //?stack???0?1 , ?result?????????? , stack????0
			{
				rst_content.setText("");
				index = 0;
			}
			else //?stack???0?1 , ?stack???? , result????????????stack??
			{
				index--;
				rst_content.setText(stack[index - 1]);
			}
		}
	}
}
