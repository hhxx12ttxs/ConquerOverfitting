/*
 * ConsultarRegistroIdosoView.java
 *
 * Created on 18 de Mar?o de 2008, 23:36
 */

package org.larOzanam.familiar.controller;

import com.celiosilva.swingDK.dataFields.MaskField;
import com.celiosilva.swingDK.frames.InternalFrame;
import com.celiosilva.swingDK.messanger.OptionMessanger;
import java.util.Collection;
import java.util.List;
import org.larOzanam.ajuda.AjudaPedidoAdmissao;
import org.larOzanam.arquitetura.ajuda.GerenciadorAjuda;
import org.larOzanam.arquitetura.core.Sessao;
import org.larOzanam.arquitetura.dao.Parametro;
import org.larOzanam.arquitetura.excecoes.ExcecaoAcessoNegado;
import org.larOzanam.arquitetura.excecoes.ExcecaoNegocio;
import org.larOzanam.arquitetura.excecoes.ExcecaoSistema;
import org.larOzanam.arquitetura.excel.GerenciadorExcel;
import org.larOzanam.arquitetura.historico.GerenciadorHistoricoTransacao;
import org.larOzanam.arquitetura.relatorio.GerenciadorRelatorio;
import org.larOzanam.arquitetura.relatorio.Relatorio;
import org.larOzanam.arquitetura.seguranca.Acessivel;
import org.larOzanam.arquitetura.seguranca.Processo;
import org.larOzanam.business.FamiliarBusiness;
import org.larOzanam.model.Familiar;
import org.larOzanam.model.enums.TotalizadorFamiliar;
import org.larOzanam.relatorios.business.RelatoriosFamiliar;
import org.larOzanam.view.mascaras.MascarasLarOzanam;

/**
 *
 * @author  Administrador
 */
public class ConsultarFamiliarController extends InternalFrame implements Acessivel{
    
    /**
     * Creates new form ConsultarRegistroIdosoView
     */
    public ConsultarFamiliarController() throws ExcecaoAcessoNegado {
        Sessao.getInstance().validarAcesso(this);
        initComponents();
        this.setTitle("CFA - Consultar Familiar");
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" C?digo Gerado ">//GEN-BEGIN:initComponents
    private void initComponents() {
        buttonGroup1 = new javax.swing.ButtonGroup();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        jPanel1 = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        lblTotalRegistros = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        txtTotalizarPor = new com.celiosilva.swingDK.dataFields.IntegerField();
        jScrollPane2 = new javax.swing.JScrollPane();
        tblFamiliares = new com.celiosilva.swingDK.dataTable.Table();
        cmbTotalizarPor = new com.celiosilva.swingDK.dataFields.ComboBoxField();
        statusBar = new com.celiosilva.swingDK.dataFields.StatusBar();
        jPanel2 = new javax.swing.JPanel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel5 = new javax.swing.JPanel();
        txtNmFamiliar = new com.celiosilva.swingDK.dataFields.LetterField();
        btnConsultarPorNome = new com.celiosilva.swingDK.buttons.BtnConsultar();
        jPanel6 = new javax.swing.JPanel();
        txtNrIdentidadeFamiliar = new com.celiosilva.swingDK.dataFields.AlphaNumericField();
        btnConsultarPorIdentidade = new com.celiosilva.swingDK.buttons.BtnConsultar();
        jPanel7 = new javax.swing.JPanel();
        btnConsultarPorCPF = new com.celiosilva.swingDK.buttons.BtnConsultar();
        txtNrCPF = new MaskField(MascarasLarOzanam.getMascaraCPF());
        jPanel9 = new javax.swing.JPanel();
        btnFiltrarFamiliar = new com.celiosilva.swingDK.buttons.BtnFiltrar();
        btnIncluirFamiliar = new com.celiosilva.swingDK.buttons.BtnIncluir();
        btnVisualizarFamiliar = new com.celiosilva.swingDK.buttons.BtnVisualizar();
        btnAlterarFamiliar = new com.celiosilva.swingDK.buttons.BtnAlterar();
        btnRemoverFamiliar = new com.celiosilva.swingDK.buttons.BtnCancelar();
        btnImprimir = new com.celiosilva.swingDK.buttons.BtnImprimir();
        btnExportarExcel = new com.celiosilva.swingDK.buttons.BtnExportarExcel();
        btnHistorico = new com.celiosilva.swingDK.buttons.BtnHistorico();
        btnSair = new com.celiosilva.swingDK.buttons.BtnSair();
        btnAjuda1 = new com.celiosilva.swingDK.buttons.BtnAjuda();

        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {"080", "0002", "JOAO SILVA", "412341234", "34232412341", "jose", "11 4028 5006"},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null}
            },
            new String [] {
                "Registro", "Pedido", "Nome", "Identidade", "CPF", "Responsavel", "Telefone"
            }
        ));
        jScrollPane1.setViewportView(jTable1);

        setExitButton(btnSair);
        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Registros Encontrados"));
        jLabel8.setText("Total de Registros:");

        lblTotalRegistros.setText("0");

        jLabel10.setText("Totalizar por");

        txtTotalizarPor.setEnabled(false);

        tblFamiliares.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "T?tulo 1", "T?tulo 2", "T?tulo 3", "T?tulo 4"
            }
        ));
        tblFamiliares.setActionToPerform(btnVisualizarFamiliar);
        tblFamiliares.setColumnFormatClass(Familiar.class);
        tblFamiliares.setCounter(lblTotalRegistros);
        jScrollPane2.setViewportView(tblFamiliares);

        cmbTotalizarPor.setFirstIsEmpty(true);
        cmbTotalizarPor.setValued(TotalizadorFamiliar.values());
        cmbTotalizarPor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbTotalizarPorActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 558, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel8)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lblTotalRegistros)
                        .addGap(125, 125, 125)
                        .addComponent(jLabel10)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cmbTotalizarPor, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtTotalizarPor, javax.swing.GroupLayout.DEFAULT_SIZE, 72, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 278, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(jLabel10)
                    .addComponent(lblTotalRegistros)
                    .addComponent(cmbTotalizarPor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtTotalizarPor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Pesquisar por"));

        btnConsultarPorNome.setText("btnConsultar1");
        btnConsultarPorNome.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnConsultarPorNomeActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtNmFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, 307, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 189, Short.MAX_VALUE)
                .addComponent(btnConsultarPorNome, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtNmFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnConsultarPorNome, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(12, Short.MAX_VALUE))
        );
        jTabbedPane1.addTab("Nome", jPanel5);

        btnConsultarPorIdentidade.setText("btnConsultar2");
        btnConsultarPorIdentidade.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnConsultarPorIdentidadeActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtNrIdentidadeFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, 127, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 369, Short.MAX_VALUE)
                .addComponent(btnConsultarPorIdentidade, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtNrIdentidadeFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnConsultarPorIdentidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(12, Short.MAX_VALUE))
        );
        jTabbedPane1.addTab("Identidade", jPanel6);

        btnConsultarPorCPF.setText("btnConsultar3");
        btnConsultarPorCPF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnConsultarPorCPFActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtNrCPF, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 359, Short.MAX_VALUE)
                .addComponent(btnConsultarPorCPF, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtNrCPF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnConsultarPorCPF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(12, Short.MAX_VALUE))
        );
        jTabbedPane1.addTab("CPF", jPanel7);

        btnFiltrarFamiliar.setText("btnFiltrar1");
        btnFiltrarFamiliar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnFiltrarFamiliarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                .addContainerGap(502, Short.MAX_VALUE)
                .addComponent(btnFiltrarFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnFiltrarFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(12, Short.MAX_VALUE))
        );
        jTabbedPane1.addTab("Avan\u00e7ado", jPanel9);

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 558, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        btnIncluirFamiliar.setText("btnIncluir1");
        btnIncluirFamiliar.setMessage("Incluir novo registro oficial");
        btnIncluirFamiliar.setStatusBar(statusBar);
        btnIncluirFamiliar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnIncluirFamiliarActionPerformed(evt);
            }
        });

        btnVisualizarFamiliar.setText("btnVisualizar1");
        btnVisualizarFamiliar.setMessage("Visualizar registro oficial");
        btnVisualizarFamiliar.setStatusBar(statusBar);
        btnVisualizarFamiliar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnVisualizarFamiliarActionPerformed(evt);
            }
        });

        btnAlterarFamiliar.setText("btnAlterar1");
        btnAlterarFamiliar.setMessage("Alterar registro oficial");
        btnAlterarFamiliar.setStatusBar(statusBar);
        btnAlterarFamiliar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAlterarFamiliarActionPerformed(evt);
            }
        });

        btnRemoverFamiliar.setText("btnCancelar1");
        btnRemoverFamiliar.setMessage("Cancelar registro oficial");
        btnRemoverFamiliar.setStatusBar(statusBar);
        btnRemoverFamiliar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRemoverFamiliarActionPerformed(evt);
            }
        });

        btnImprimir.setText("btnImprimir1");
        btnImprimir.setStatusBar(statusBar);
        btnImprimir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnImprimirActionPerformed(evt);
            }
        });

        btnExportarExcel.setText("btnExportarExcel1");
        btnExportarExcel.setStatusBar(statusBar);
        btnExportarExcel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnExportarExcelActionPerformed(evt);
            }
        });

        btnHistorico.setText("btnHistorico1");
        btnHistorico.setStatusBar(statusBar);
        btnHistorico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnHistoricoActionPerformed(evt);
            }
        });

        btnSair.setText("btnSair1");
        btnSair.setStatusBar(statusBar);

        btnAjuda1.setText("btnAjuda1");
        btnAjuda1.setStatusBar(statusBar);
        btnAjuda1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAjuda1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(statusBar, javax.swing.GroupLayout.DEFAULT_SIZE, 594, Short.MAX_VALUE)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(btnIncluirFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnVisualizarFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnAlterarFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnRemoverFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnImprimir, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnExportarExcel, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnHistorico, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnAjuda1, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 180, Short.MAX_VALUE)
                .addComponent(btnSair, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jPanel4, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(btnIncluirFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnVisualizarFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnAlterarFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnRemoverFamiliar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnImprimir, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnExportarExcel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnHistorico, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnSair, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnAjuda1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(statusBar, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        getContentPane().add(jPanel1, java.awt.BorderLayout.CENTER);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnAjuda1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAjuda1ActionPerformed
        try {
            GerenciadorAjuda.invocarAjuda(AjudaPedidoAdmissao.CONSULTAR_FAMILIAR);
        } catch (ExcecaoSistema ex) {
            ex.mostrarExcecao(this);
        }
    }//GEN-LAST:event_btnAjuda1ActionPerformed
    
    private void btnImprimirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnImprimirActionPerformed
        try {
            final String rel_simples = "Listagem Familiar Simples";
            final String rel_detalhado = "Listagem Familiar Detalhada";                        
            final String cancelar = "Cancelar";
            OptionMessanger opt = new OptionMessanger();
            opt.setMessage("Qual relat?rio deseja imprimir ?");
            opt.setTitle("Imprimir");
            opt.setWindow(this);
            opt.setMessageType(opt.MESSAGE_QUESTION);
            opt.setOptions(rel_simples, rel_detalhado, cancelar);
            opt.setInitOption(rel_simples);
            opt.showMessage();
            Collection<Familiar> familiares = (Collection<Familiar>) tblFamiliares.getData();
            Relatorio rel = null;
            if(opt.getSelectedOption().equals(cancelar)){
                return;
            } else if (opt.getSelectedOption().equals(rel_simples)){
                rel = RelatoriosFamiliar.listagemFamiliar();
            } else if (opt.getSelectedOption().equals(rel_detalhado)){
                rel = RelatoriosFamiliar.listagemFamiliarDetalhada(familiares);
            } else {
                return;
            }            
            GerenciadorRelatorio.criarRelatorio(rel, familiares, this);
        } catch (ExcecaoNegocio ex) {
            this.statusBar.setMessage(ex);
        } catch (ExcecaoSistema ex) {
            ex.mostrarExcecao(this);
        }
    }//GEN-LAST:event_btnImprimirActionPerformed
    
    private void cmbTotalizarPorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbTotalizarPorActionPerformed
        TotalizadorFamiliar total = (TotalizadorFamiliar) cmbTotalizarPor.getSelectedValue();
        if (total != null){
            txtTotalizarPor.setValued(total.totalizar((Collection<Familiar>)this.tblFamiliares.getData()));
        } else {
            txtTotalizarPor.clear();
        }
    }//GEN-LAST:event_cmbTotalizarPorActionPerformed
    
    private void btnFiltrarFamiliarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnFiltrarFamiliarActionPerformed
        FiltrarFamiliarController contr = new FiltrarFamiliarController(this, this.tblFamiliares);
        this.addWindow(contr);
        contr.setVisible(true);
    }//GEN-LAST:event_btnFiltrarFamiliarActionPerformed
    
    private void btnExportarExcelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnExportarExcelActionPerformed
        try {
            GerenciadorExcel.exportarParaExcel(this, this.tblFamiliares.getData());
        } catch (ExcecaoNegocio ex) {
            this.statusBar.setMessage(ex);
        } catch (ExcecaoSistema ex) {
            ex.mostrarExcecao(this);
        }
    }//GEN-LAST:event_btnExportarExcelActionPerformed
    
    private void btnHistoricoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnHistoricoActionPerformed
        Familiar f = (Familiar) this.tblFamiliares.getSelectedObject();
        if (f != null){
            try {
                GerenciadorHistoricoTransacao.visualizarHistorico(this, Familiar.class, f.getNrCPF());
            } catch (ExcecaoNegocio ex) {
                this.statusBar.setMessage(ex);
            } catch (ExcecaoSistema ex) {
                ex.mostrarExcecao(this);
            }
        }
    }//GEN-LAST:event_btnHistoricoActionPerformed
    
    private void btnConsultarPorCPFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnConsultarPorCPFActionPerformed
        try {
            this.tblFamiliares.cleanTable();
            Familiar fam = FamiliarBusiness.getInstance().consultarFamiliarPorCPF(txtNrCPF.getValued());
            this.tblFamiliares.setData(fam);
        } catch (ExcecaoNegocio ex) {
            this.statusBar.setMessage(ex);
        } catch (ExcecaoSistema ex) {
            ex.mostrarExcecao(this);
        }
    }//GEN-LAST:event_btnConsultarPorCPFActionPerformed
    
    private void btnConsultarPorIdentidadeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnConsultarPorIdentidadeActionPerformed
        try {
            this.tblFamiliares.cleanTable();
            List<Familiar> fam = FamiliarBusiness.getInstance().consultarFamiliarPorNrIdentidade(txtNrIdentidadeFamiliar.getValued());
            this.tblFamiliares.setData(fam);
        } catch (ExcecaoNegocio ex) {
            this.statusBar.setMessage(ex);
        } catch (ExcecaoSistema ex) {
            ex.mostrarExcecao(this);
        }
    }//GEN-LAST:event_btnConsultarPorIdentidadeActionPerformed
    
    private void btnConsultarPorNomeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnConsultarPorNomeActionPerformed
        try {
            this.tblFamiliares.cleanTable();
            List<Familiar> familiares = FamiliarBusiness.getInstance().consultarFamiliarPorNome(txtNmFamiliar.getValued());
            this.tblFamiliares.setData(familiares);
        } catch (ExcecaoNegocio ex) {
            this.statusBar.setMessage(ex);
        } catch (ExcecaoSistema ex) {
            ex.mostrarExcecao(this);
        }
    }//GEN-LAST:event_btnConsultarPorNomeActionPerformed
    
    private void btnAlterarFamiliarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAlterarFamiliarActionPerformed
        Familiar f = (Familiar) this.tblFamiliares.getSelectedObject();
        AlterarFamiliarController alterar = null;
        try {
            if (f == null)
                alterar = new AlterarFamiliarController();
            else
                alterar = new AlterarFamiliarController(f.getNrCPF());
            
            this.addWindow(alterar);
            alterar.setVisible(true);
        } catch (ExcecaoAcessoNegado ex) {
            ex.mostrarExcecao(this);
        }
        
    }//GEN-LAST:event_btnAlterarFamiliarActionPerformed
    
    private void btnVisualizarFamiliarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnVisualizarFamiliarActionPerformed
        Familiar f = (Familiar) this.tblFamiliares.getSelectedObject();
        VisualizarFamiliarController visualizar = null;
        try {
            if (f == null)
                visualizar = new VisualizarFamiliarController();
            else
                visualizar = new VisualizarFamiliarController(f.getNrCPF());
            
            this.addWindow(visualizar);
            visualizar.setVisible(true);
        } catch (ExcecaoAcessoNegado ex) {
            ex.mostrarExcecao(this);
        }
        
    }//GEN-LAST:event_btnVisualizarFamiliarActionPerformed
    
    private void btnRemoverFamiliarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRemoverFamiliarActionPerformed
        Familiar f = (Familiar) this.tblFamiliares.getSelectedObject();
        RemoverFamiliarController remover = null;
        try{
            if (f == null)
                remover = new RemoverFamiliarController();
            else
                remover = new RemoverFamiliarController(f.getNrCPF());
            
            this.addWindow(remover);
            remover.setVisible(true);
        } catch (ExcecaoAcessoNegado ex) {
            ex.mostrarExcecao(this);
        }
        
    }//GEN-LAST:event_btnRemoverFamiliarActionPerformed
    
    private void btnIncluirFamiliarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnIncluirFamiliarActionPerformed
        try {
            IncluirFamiliarController contr = new IncluirFamiliarController();
            this.addWindow(contr);
            contr.setVisible(true);
        } catch (ExcecaoAcessoNegado ex) {
            ex.mostrarExcecao(this);
        }
        
    }//GEN-LAST:event_btnIncluirFamiliarActionPerformed
    
    public Processo returnProcessoExecutado() {
        return Processo.VISUALIZAR_FAMILIAR;
    }
    
    
    // Declara??o de vari?veis - n?o modifique//GEN-BEGIN:variables
    private com.celiosilva.swingDK.buttons.BtnAjuda btnAjuda1;
    private com.celiosilva.swingDK.buttons.BtnAlterar btnAlterarFamiliar;
    private com.celiosilva.swingDK.buttons.BtnConsultar btnConsultarPorCPF;
    private com.celiosilva.swingDK.buttons.BtnConsultar btnConsultarPorIdentidade;
    private com.celiosilva.swingDK.buttons.BtnConsultar btnConsultarPorNome;
    private com.celiosilva.swingDK.buttons.BtnExportarExcel btnExportarExcel;
    private com.celiosilva.swingDK.buttons.BtnFiltrar btnFiltrarFamiliar;
    private com.celiosilva.swingDK.buttons.BtnHistorico btnHistorico;
    private com.celiosilva.swingDK.buttons.BtnImprimir btnImprimir;
    private com.celiosilva.swingDK.buttons.BtnIncluir btnIncluirFamiliar;
    private com.celiosilva.swingDK.buttons.BtnCancelar btnRemoverFamiliar;
    private com.celiosilva.swingDK.buttons.BtnSair btnSair;
    private com.celiosilva.swingDK.buttons.BtnVisualizar btnVisualizarFamiliar;
    private javax.swing.ButtonGroup buttonGroup1;
    private com.celiosilva.swingDK.dataFields.ComboBoxField cmbTotalizarPor;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTable jTable1;
    private javax.swing.JLabel lblTotalRegistros;
    private com.celiosilva.swingDK.dataFields.StatusBar statusBar;
    private com.celiosilva.swingDK.dataTable.Table tblFamiliares;
    private com.celiosilva.swingDK.dataFields.LetterField txtNmFamiliar;
    private com.celiosilva.swingDK.dataFields.MaskField txtNrCPF;
    private com.celiosilva.swingDK.dataFields.AlphaNumericField txtNrIdentidadeFamiliar;
    private com.celiosilva.swingDK.dataFields.IntegerField txtTotalizarPor;
    // Fim da declara??o de vari?veis//GEN-END:variables
    
}

