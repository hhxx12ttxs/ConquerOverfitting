int y = ((loc.y % HASH) + HASH) % HASH;

int dl = danger_amount;
if (dl > MAX_DANGER)
dl = MAX_DANGER;
int x = ((loc.x % HASH) + HASH) % HASH;
int y = ((loc.y % HASH) + HASH) % HASH;
if (has[x][y]){

