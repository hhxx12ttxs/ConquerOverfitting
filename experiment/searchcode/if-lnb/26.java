/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * AltaEq.java
 *
 * Created on 6/11/2009, 11:47:13 AM
 */
package controles;

/**
 *
 * @author Administrador
 */
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.swing.JOptionPane;
import util.DataBaseCon;

public class AltaEq extends javax.swing.JFrame {

    /** Creates new form AltaEq */
    public AltaEq() {
        initComponents();
        setLocationRelativeTo(null);
        setResizable(false);
    }

    public AltaEq(String cct, String serie) {
        header = cct;
        noserie = serie;
        initComponents();
        setLocationRelativeTo(null);
        setResizable(false);
    }

    public AltaEq(String serie, String equipo, int indice) {
        noserie = serie;
        eq = equipo;
        index=indice;
        initComponents();
        setLocationRelativeTo(null);
        setResizable(false);
    }

    public AltaEq(String cct, String folio, int tipoeq, int proyecto, boolean ban) {
        edit = ban;
        header = cct;
        fol = folio;
        tipo = tipoeq;
        proy = proyecto;
        initComponents();
        setLocationRelativeTo(null);
        setResizable(false);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        etq = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        folio = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        tipoparte = new javax.swing.JComboBox();
        jLabel4 = new javax.swing.JLabel();
        marca = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        modelo = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        serie = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        inv = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        descripcion = new javax.swing.JTextArea();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jSeparator1 = new javax.swing.JSeparator();
        emexico = new javax.swing.JCheckBox();
        edusat = new javax.swing.JCheckBox();
        enciclo = new javax.swing.JCheckBox();
        moder = new javax.swing.JCheckBox();
        redes = new javax.swing.JCheckBox();
        unete = new javax.swing.JCheckBox();
        video = new javax.swing.JCheckBox();
        jSeparator2 = new javax.swing.JSeparator();
        jLabel1 = new javax.swing.JLabel();
        funciona = new javax.swing.JComboBox();
        jLabel10 = new javax.swing.JLabel();
        reporte = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        status = new javax.swing.JComboBox();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        admin = new javax.swing.JCheckBox();

        org.jdesktop.application.ResourceMap resourceMap = org.jdesktop.application.Application.getInstance(controles.ControlESApp.class).getContext().getResourceMap(AltaEq.class);
        setTitle(resourceMap.getString("Form.title")); // NOI18N
        setName("Form"); // NOI18N
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });

        etq.setText(resourceMap.getString("etq.text")); // NOI18N
        etq.setName("etq"); // NOI18N

        jLabel2.setText(resourceMap.getString("jLabel2.text")); // NOI18N
        jLabel2.setName("jLabel2"); // NOI18N

        folio.setText(resourceMap.getString("folio.text")); // NOI18N
        folio.setEnabled(false);
        folio.setName("folio"); // NOI18N

        jLabel3.setText(resourceMap.getString("jLabel3.text")); // NOI18N
        jLabel3.setName("jLabel3"); // NOI18N

        tipoparte.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Aire acondicionado", "Amplificador", "Antena de radio", "Antena edusat", "Bocinas", "Calculadora", "Ca?on", "Concentrador", "CPU", "Decodificador", "DVD player", "Fotopuente", "ID-card", "Impresora", "Interface", "LNB", "Mesa A", "Mesa B", "Mesa Cz", "Mesa Dz", "Mesa E", "Monitor", "Mouse", "No break", "Pizarra interactiva", "Radio", "Regulador", "Sensor de Fuerza", "Sensor de Luz", "Sensor de Movimiento", "Sensor de Polea", "Sensor de Temperatura", "Sensor de Voltaje", "Sonido", "Teclado", "Telefono ip", "VHS player", "Laptop/Netbook", "Televisi?n", " " }));
        tipoparte.setName("tipoparte"); // NOI18N

        jLabel4.setText(resourceMap.getString("jLabel4.text")); // NOI18N
        jLabel4.setName("jLabel4"); // NOI18N

        marca.setText(resourceMap.getString("marca.text")); // NOI18N
        marca.setName("marca"); // NOI18N

        jLabel5.setText(resourceMap.getString("jLabel5.text")); // NOI18N
        jLabel5.setName("jLabel5"); // NOI18N

        modelo.setText(resourceMap.getString("modelo.text")); // NOI18N
        modelo.setName("modelo"); // NOI18N

        jLabel6.setText(resourceMap.getString("jLabel6.text")); // NOI18N
        jLabel6.setName("jLabel6"); // NOI18N

        serie.setText(resourceMap.getString("serie.text")); // NOI18N
        serie.setName("serie"); // NOI18N

        jLabel7.setText(resourceMap.getString("jLabel7.text")); // NOI18N
        jLabel7.setName("jLabel7"); // NOI18N

        inv.setText(resourceMap.getString("inv.text")); // NOI18N
        inv.setName("inv"); // NOI18N

        jLabel8.setText(resourceMap.getString("jLabel8.text")); // NOI18N
        jLabel8.setName("jLabel8"); // NOI18N

        jLabel9.setText(resourceMap.getString("jLabel9.text")); // NOI18N
        jLabel9.setName("jLabel9"); // NOI18N

        jScrollPane1.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);
        jScrollPane1.setName("jScrollPane1"); // NOI18N

        descripcion.setColumns(20);
        descripcion.setLineWrap(true);
        descripcion.setRows(5);
        descripcion.setWrapStyleWord(true);
        descripcion.setName("descripcion"); // NOI18N
        descripcion.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                descripcionKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                descripcionKeyTyped(evt);
            }
        });
        jScrollPane1.setViewportView(descripcion);

        jButton1.setIcon(resourceMap.getIcon("jButton1.icon")); // NOI18N
        jButton1.setText(resourceMap.getString("jButton1.text")); // NOI18N
        jButton1.setName("jButton1"); // NOI18N
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setIcon(resourceMap.getIcon("jButton2.icon")); // NOI18N
        jButton2.setText(resourceMap.getString("jButton2.text")); // NOI18N
        jButton2.setName("jButton2"); // NOI18N
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jSeparator1.setName("jSeparator1"); // NOI18N

        emexico.setText(resourceMap.getString("emexico.text")); // NOI18N
        emexico.setName("emexico"); // NOI18N
        emexico.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                emexicoActionPerformed(evt);
            }
        });

        edusat.setText(resourceMap.getString("edusat.text")); // NOI18N
        edusat.setName("edusat"); // NOI18N

        enciclo.setText(resourceMap.getString("enciclo.text")); // NOI18N
        enciclo.setName("enciclo"); // NOI18N

        moder.setText(resourceMap.getString("moder.text")); // NOI18N
        moder.setName("moder"); // NOI18N

        redes.setText(resourceMap.getString("redes.text")); // NOI18N
        redes.setName("redes"); // NOI18N

        unete.setText(resourceMap.getString("unete.text")); // NOI18N
        unete.setName("unete"); // NOI18N

        video.setText(resourceMap.getString("video.text")); // NOI18N
        video.setName("video"); // NOI18N

        jSeparator2.setName("jSeparator2"); // NOI18N

        jLabel1.setText(resourceMap.getString("jLabel1.text")); // NOI18N
        jLabel1.setName("jLabel1"); // NOI18N

        funciona.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Si", "No" }));
        funciona.setName("funciona"); // NOI18N
        funciona.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                funcionaItemStateChanged(evt);
            }
        });

        jLabel10.setText(resourceMap.getString("jLabel10.text")); // NOI18N
        jLabel10.setName("jLabel10"); // NOI18N

        reporte.setText(resourceMap.getString("reporte.text")); // NOI18N
        reporte.setEnabled(false);
        reporte.setName("reporte"); // NOI18N

        jLabel11.setText(resourceMap.getString("jLabel11.text")); // NOI18N
        jLabel11.setName("jLabel11"); // NOI18N

        status.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Sin Reporte", "Atendido", "No Atendido" }));
        status.setEnabled(false);
        status.setName("status"); // NOI18N

        jLabel12.setForeground(resourceMap.getColor("jLabel12.foreground")); // NOI18N
        jLabel12.setText(resourceMap.getString("jLabel12.text")); // NOI18N
        jLabel12.setName("jLabel12"); // NOI18N

        jLabel13.setForeground(resourceMap.getColor("jLabel13.foreground")); // NOI18N
        jLabel13.setText(resourceMap.getString("jLabel13.text")); // NOI18N
        jLabel13.setName("jLabel13"); // NOI18N

        jLabel14.setForeground(resourceMap.getColor("jLabel14.foreground")); // NOI18N
        jLabel14.setText(resourceMap.getString("jLabel14.text")); // NOI18N
        jLabel14.setName("jLabel14"); // NOI18N

        jLabel15.setForeground(resourceMap.getColor("jLabel15.foreground")); // NOI18N
        jLabel15.setText(resourceMap.getString("jLabel15.text")); // NOI18N
        jLabel15.setName("jLabel15"); // NOI18N

        admin.setText(resourceMap.getString("admin.text")); // NOI18N
        admin.setName("admin"); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jSeparator2, javax.swing.GroupLayout.DEFAULT_SIZE, 279, Short.MAX_VALUE)
                        .addContainerGap())
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel3)
                                .addGap(10, 10, 10)
                                .addComponent(tipoparte, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(etq)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel2)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(folio, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jLabel1)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(funciona, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel10)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(reporte, javax.swing.GroupLayout.DEFAULT_SIZE, 148, Short.MAX_VALUE))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel11)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(status, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(75, 75, 75))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(20, 20, 20)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(enciclo)
                                    .addComponent(emexico)
                                    .addComponent(edusat)
                                    .addComponent(video))
                                .addGap(35, 35, 35)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(admin)
                                    .addComponent(redes)
                                    .addComponent(moder)
                                    .addComponent(unete)))
                            .addComponent(jLabel9)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel6)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(serie, javax.swing.GroupLayout.DEFAULT_SIZE, 203, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel14))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel7)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(inv, javax.swing.GroupLayout.DEFAULT_SIZE, 202, Short.MAX_VALUE))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel8)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel15)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 209, Short.MAX_VALUE))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                        .addComponent(jLabel4)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(marca))
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                        .addComponent(jLabel5)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(modelo, javax.swing.GroupLayout.PREFERRED_SIZE, 187, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jLabel13))
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jLabel12)))))
                        .addContainerGap())
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 268, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jButton1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jButton2)
                        .addContainerGap())))
        );

        layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jButton1, jButton2});

        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(etq)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(folio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1)
                    .addComponent(funciona, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(11, 11, 11)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(tipoparte, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10)
                    .addComponent(reporte, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(status, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(marca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel12))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(modelo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel13))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(serie, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel14))
                .addGap(9, 9, 9)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(inv, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 14, Short.MAX_VALUE)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel8)
                        .addComponent(jLabel15)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(emexico)
                    .addComponent(moder))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(edusat)
                    .addComponent(redes))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(enciclo)
                    .addComponent(unete))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(video)
                    .addComponent(admin))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator2, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 49, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(17, 17, 17))
        );

        layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {jButton1, jButton2});

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
        // TODO add your handling code here:
        folio.transferFocus();
        funciona.transferFocus();
        if (edit == false) {
            etq.setText(header);
            folio.setText(fol);
            folio.setEnabled(false);
            tipoparte.setSelectedIndex(tipo);
            tipoparte.setEnabled(false);
            if (proy == 2) {
                enciclo.setSelected(true);
                emexico.setEnabled(false);
                edusat.setEnabled(false);
                enciclo.setEnabled(false);
                moder.setEnabled(false);
                redes.setEnabled(false);
                unete.setEnabled(false);
                video.setEnabled(false);
            }
        } else {
            etq.setText(header);
            folio.setText(fol);
            folio.setEnabled(false);
            tipoparte.setEnabled(true);
        }
        DataBaseCon db = new DataBaseCon();
        if (noserie.equals("")) {
            String query = "select * from equipos where folio = '" +
                    folio.getText() + "' and tipo='" + tipoparte.getSelectedItem() + "'";
            int res = db.busqueda(query);
            if (res == 0) {
                noexiste = true;
            } else {
                try {
                    System.out.println("Primera seccion...");
                    jButton1.setText("Editar");
                    Connection con = db.getConection();
                    stmt = con.createStatement();
                    rs = stmt.executeQuery(query);
                    while (rs.next()) {
                        marca.setText(rs.getString("marca"));
                        modelo.setText(rs.getString("modelo"));
                        serie.setText(rs.getString("serie"));
                        descripcion.setText(rs.getString("descripcion"));
                        reporte.setText(rs.getString("reporte"));
                        if (rs.getString("funciona").equals("Si")) {
                            funciona.setSelectedIndex(0);
                        } else {
                            funciona.setSelectedIndex(1);
                        }
                        if (rs.getString("status").equals("Sin Reporte")) {
                            status.setSelectedIndex(0);
                        } else if (rs.getString("status").equals("Atendido")) {
                            status.setSelectedIndex(1);
                        } else {
                            status.setSelectedIndex(2);
                        }
                    }
                } catch (SQLException e) {
                    System.out.println(e.getMessage());
                }
            }
        } else {
            serie.setText(noserie);
            String query = "select * from equipos where serie = '" +
                    noserie + "' and tipo='" + eq + "'";
            int res = db.busqueda(query);
            if (res == 0) {
                noexiste = true;
            } else {
                try {
                    jButton1.setText("Editar");
                    Connection con = db.getConection();
                    stmt = con.createStatement();
                    rs = stmt.executeQuery(query);
                    while (rs.next()) {
                        tipoparte.setSelectedIndex(index);
                        marca.setText(rs.getString("marca"));
                        modelo.setText(rs.getString("modelo"));
                        serie.setText(rs.getString("serie"));
                        descripcion.setText(rs.getString("descripcion"));
                        reporte.setText(rs.getString("reporte"));
                        if (rs.getString("funciona").equals("Si")) {
                            funciona.setSelectedIndex(0);
                        } else {
                            funciona.setSelectedIndex(1);
                        }
                        if (rs.getString("status").equals("Sin Reporte")) {
                            status.setSelectedIndex(0);
                        } else if (rs.getString("status").equals("Atendido")) {
                            status.setSelectedIndex(1);
                        } else {
                            status.setSelectedIndex(2);
                        }
                    }
                } catch (SQLException e) {
                    System.out.println(e.getMessage());
                }
            }
        }
    }//GEN-LAST:event_formWindowOpened

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        this.setVisible(false);
    }//GEN-LAST:event_jButton2ActionPerformed
    private boolean validar() {
        boolean ban;
        if (marca.getText().equals("") == true) {
            ban = false;
        } else if (modelo.getText().equals("") == true) {
            ban = false;
        } else if (serie.getText().equals("") == true) {
            ban = false;
        } else if (!(emexico.isSelected() || enciclo.isSelected() || redes.isSelected() || edusat.isSelected() ||
                unete.isSelected() || moder.isSelected() || video.isSelected()||admin.isSelected())) {
            ban = false;
        } else {
            ban = true;
        }
        return ban;
    }

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        if (validar() == false) {
            JOptionPane.showMessageDialog(rootPane, "Los campos marcados con * no pueden quedar vacios.");
        } else {
            DataBaseCon db = new DataBaseCon();
            Connection con = db.getConection();
            try {
                String proyectos = "";
                if (emexico.isSelected()) {
                    proyectos += emexico.getText() + ", ";
                }
                if (edusat.isSelected()) {
                    proyectos += edusat.getText() + ", ";
                }
                if (enciclo.isSelected()) {
                    proyectos += enciclo.getText() + ", ";
                }
                if (moder.isSelected()) {
                    proyectos += moder.getText() + ", ";
                }
                if (redes.isSelected()) {
                    proyectos += redes.getText() + ", ";
                }
                if (unete.isSelected()) {
                    proyectos += unete.getText() + ", ";
                }
                if (video.isSelected()) {
                    proyectos += video.getText() + ", ";
                }
                if (admin.isSelected()) {
                    proyectos += admin.getText() + ", ";
                }
                if (noexiste == true) {
                    stmt = con.createStatement();
                    int a = stmt.executeUpdate("insert into equipos (cct, folio, tipo," +
                            "marca, modelo, descripcion, serie, " +
                            "inventario, proyecto, funciona, reporte, status) values " +
                            "('" + header+ "','" + folio.getText() + "','" + tipoparte.getSelectedItem() + "','" + marca.getText() + "'," +
                            "'" + modelo.getText() + "','" + descripcion.getText() + "','" + serie.getText() + "'," +
                            "'" + inv.getText() + "','" + proyectos +
                            "','" + funciona.getSelectedItem() + "','" + reporte.getText() +
                            "','" + status.getSelectedItem() + "')");
                } else {
                    stmt = con.createStatement();
                    int a = stmt.executeUpdate("update equipos set " +
                            "marca='" + marca.getText() + "'," +
                            "modelo='" + modelo.getText() + "'," +
                            "descripcion='" + descripcion.getText() + "'," +
                            "serie='" + serie.getText() + "'," +
                            "inventario='" + inv.getText() + "'," +
                            "funciona='" + funciona.getSelectedItem() + "'," +
                            "reporte='" + reporte.getText() + "'," +
                            "proyecto='" + proyectos + "'," +
                            "status='" + status.getSelectedItem() + "' where folio = '" +
                            folio.getText() + "' and tipo='" + tipoparte.getSelectedItem() + "'");
                    JOptionPane.showMessageDialog(rootPane, "Equipo Actualizado");
                }
                if (edit == true) {
                    int f = JOptionPane.showConfirmDialog(rootPane, "Equipo agregado. Quiere seguir capturando?", "Done!", JOptionPane.YES_NO_OPTION);
                    if (f == 0) {
                        limpiar();
                    } else {
                        this.setVisible(false);
                    }
                } else {
                    this.setVisible(false);
                }
            } catch (SQLException e) {
                JOptionPane.showMessageDialog(rootPane, "Error en la insercion de equipo. " + e.getMessage(), "Error", JOptionPane.ERROR_MESSAGE);

            }
        }
    }//GEN-LAST:event_jButton1ActionPerformed

    private void limpiar() {
        folio.setText("");
        tipoparte.setSelectedIndex(0);
        marca.setText("");
        modelo.setText("");
        descripcion.setText("");
        serie.setText("");
        inv.setText("");
        emexico.setSelected(false);
        edusat.setSelected(false);
        enciclo.setSelected(false);
        moder.setSelected(false);
        redes.setSelected(false);
        unete.setSelected(false);
        video.setSelected(false);
        admin.setSelected(false);
    }

    private void emexicoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_emexicoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_emexicoActionPerformed

    private void descripcionKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_descripcionKeyTyped
    }//GEN-LAST:event_descripcionKeyTyped

    private void descripcionKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_descripcionKeyPressed
        // TODO add your handling code here:
        if (evt.getKeyChar() == 9) {
            descripcion.transferFocus();
        }
    }//GEN-LAST:event_descripcionKeyPressed

    private void funcionaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_funcionaItemStateChanged
        // TODO add your handling code here:
        if (edit == false) {
            if (funciona.getSelectedIndex() == 1) {
                reporte.setEnabled(true);
                status.setEnabled(true);
            } else {
                reporte.setEnabled(false);
                status.setEnabled(false);
            }
        }

    }//GEN-LAST:event_funcionaItemStateChanged

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                new AltaEq().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JCheckBox admin;
    private javax.swing.JTextArea descripcion;
    private javax.swing.JCheckBox edusat;
    private javax.swing.JCheckBox emexico;
    private javax.swing.JCheckBox enciclo;
    private javax.swing.JLabel etq;
    private javax.swing.JTextField folio;
    private javax.swing.JComboBox funciona;
    private javax.swing.JTextField inv;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JTextField marca;
    private javax.swing.JTextField modelo;
    private javax.swing.JCheckBox moder;
    private javax.swing.JCheckBox redes;
    private javax.swing.JTextField reporte;
    private javax.swing.JTextField serie;
    private javax.swing.JComboBox status;
    private javax.swing.JComboBox tipoparte;
    private javax.swing.JCheckBox unete;
    private javax.swing.JCheckBox video;
    // End of variables declaration//GEN-END:variables
    static String header = "";
    static String fol = "";
    static int tipo = 0;
    static boolean edit = true;
    static int proy = 0;
    static Statement stmt = null;
    static boolean noexiste;
    ResultSet rs = null;
    static String noserie = "";
    static String eq = "";
    static int index=0;
}

