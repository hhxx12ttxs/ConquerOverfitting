/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * Busquedas.java
 *
 * Created on 13/10/2009, 08:57:01 AM
 */

package cete;
import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;
import util.DataBaseCon;
import util.LimitChars;
/**
 *
 * @author Administrador
 */
public class Busquedas extends javax.swing.JFrame {

    /** Creates new form Busquedas */
    public Busquedas(String param) {
        tabla=param;
       // System.out.println(tabla);
        initComponents();
        setLocation(400,300);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        grupo = new javax.swing.ButtonGroup();
        radcct = new javax.swing.JRadioButton();
        radnombre = new javax.swing.JRadioButton();
        raddir = new javax.swing.JRadioButton();
        cct = new javax.swing.JTextField();
        nombre = new javax.swing.JTextField();
        director = new javax.swing.JTextField();
        buscar = new javax.swing.JButton();
        radequipo = new javax.swing.JRadioButton();
        txteq = new javax.swing.JTextField();
        jSeparator1 = new javax.swing.JSeparator();
        tipo = new javax.swing.JComboBox();

        org.jdesktop.application.ResourceMap resourceMap = org.jdesktop.application.Application.getInstance(cete.CeteApp.class).getContext().getResourceMap(Busquedas.class);
        setTitle(resourceMap.getString("Form.title")); // NOI18N
        setName("Form"); // NOI18N
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });

        radcct.setText(resourceMap.getString("radcct.text")); // NOI18N
        radcct.setName("radcct"); // NOI18N
        radcct.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                radcctActionPerformed(evt);
            }
        });

        radnombre.setText(resourceMap.getString("radnombre.text")); // NOI18N
        radnombre.setName("radnombre"); // NOI18N
        radnombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                radnombreActionPerformed(evt);
            }
        });

        raddir.setText(resourceMap.getString("raddir.text")); // NOI18N
        raddir.setName("raddir"); // NOI18N
        raddir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                raddirActionPerformed(evt);
            }
        });

        cct.setText(resourceMap.getString("cct.text")); // NOI18N
        cct.setEnabled(false);
        cct.setName("cct"); // NOI18N
        cct.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                cctKeyPressed(evt);
            }
        });

        nombre.setText(resourceMap.getString("nombre.text")); // NOI18N
        nombre.setEnabled(false);
        nombre.setName("nombre"); // NOI18N
        nombre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                nombreKeyPressed(evt);
            }
        });

        director.setText(resourceMap.getString("director.text")); // NOI18N
        director.setEnabled(false);
        director.setName("director"); // NOI18N
        director.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                directorKeyPressed(evt);
            }
        });

        buscar.setFont(resourceMap.getFont("buscar.font")); // NOI18N
        buscar.setIcon(resourceMap.getIcon("buscar.icon")); // NOI18N
        buscar.setMnemonic('B');
        buscar.setText(resourceMap.getString("buscar.text")); // NOI18N
        buscar.setName("buscar"); // NOI18N
        buscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                buscarActionPerformed(evt);
            }
        });

        radequipo.setText(resourceMap.getString("radequipo.text")); // NOI18N
        radequipo.setName("radequipo"); // NOI18N
        radequipo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                radequipoActionPerformed(evt);
            }
        });

        txteq.setText(resourceMap.getString("txteq.text")); // NOI18N
        txteq.setEnabled(false);
        txteq.setName("txteq"); // NOI18N
        txteq.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txteqKeyPressed(evt);
            }
        });

        jSeparator1.setName("jSeparator1"); // NOI18N

        tipo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Aire acondicionado", "Amplificador", "Antena de radio", "Antena edusat", "Bocinas", "Calculadora", "Ca?on", "Concentrador", "CPU", "Decodificador", "DVD player", "Sensor Fotopte.", "ID-card", "Impresora", "Interface", "LNB", "Mesa A", "Mesa B", "Mesa Cz", "Mesa Dz", "Mesa E", "Monitor", "Mouse", "UPS", "Pizarra interactiva", "Radio", "Regulador", "Sensor Fuerza", "Sensor Luz", "Sensor Movimiento", "Sensor Polea", "Sensor Temp.", "Sensor Voltaje", "Sensor Sonido", "Teclado", "Telefono IP", "VHS player", "Laptop", "Television" }));
        tipo.setName("tipo"); // NOI18N
        tipo.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                tipoKeyPressed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(radequipo)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txteq))
                    .addComponent(jSeparator1)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(radcct, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(radnombre, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(raddir, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(director)
                            .addComponent(nombre)
                            .addComponent(cct, javax.swing.GroupLayout.DEFAULT_SIZE, 157, Short.MAX_VALUE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(buscar, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tipo, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(radcct)
                            .addComponent(cct, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(radnombre)
                            .addComponent(nombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(director, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(raddir))
                        .addGap(30, 30, 30)
                        .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(12, 12, 12)
                        .addComponent(buscar, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(radequipo)
                    .addComponent(txteq, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tipo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(11, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
        // TODO add your handling code here:
        grupo.add(radcct);
        grupo.add(radnombre);
        grupo.add(raddir);
        grupo.add(radequipo);
        cct.setDocument(new LimitChars(cct, 10));
    }//GEN-LAST:event_formWindowOpened

    private void radcctActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radcctActionPerformed
        // TODO add your handling code here:
        cct.setEnabled(true);
        director.setEnabled(false);
        nombre.setEnabled(false);
        //equipo.setEnabled(true);
        txteq.setEnabled(false);
    }//GEN-LAST:event_radcctActionPerformed

    private void radnombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radnombreActionPerformed
        // TODO add your handling code here:
        nombre.setEnabled(true);
       // equipo.setEnabled(true);
        txteq.setEnabled(false);
        cct.setEnabled(false);
        director.setEnabled(false);
    }//GEN-LAST:event_radnombreActionPerformed

    private void raddirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_raddirActionPerformed
        // TODO add your handling code here:
        director.setEnabled(true);
        nombre.setEnabled(false);
        cct.setEnabled(false);
        //equipo.setEnabled(true);
        txteq.setEnabled(false);
    }//GEN-LAST:event_raddirActionPerformed

    private void radequipoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radequipoActionPerformed
        // TODO add your handling code here:
        txteq.setEnabled(true);
        director.setEnabled(false);
        nombre.setEnabled(false);
        cct.setEnabled(false);
        /*if (radequipo.isSelected() == false) {
            equipo.setEnabled(true);
        } else {
            equipo.setEnabled(false);
        }*/
    }//GEN-LAST:event_radequipoActionPerformed

    private void buscarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buscarActionPerformed
        // TODO add your handling code here:
        if (radcct.isSelected() == true) {
                sql = "select * from " + tabla + " where cct like \"%" + cct.getText().toUpperCase() + "%\"";
                new Resultados(sql, tabla).setVisible(true);
        } else if (radnombre.isSelected() == true) {
                sql = "select * from " + tabla + " where nombre like \"%" + nombre.getText().toUpperCase() + "%\"";
                new Resultados(sql, tabla).setVisible(true);
        } else if (raddir.isSelected() == true) {
                sql = "select * from " + tabla + " where director like \"%" + director.getText().toUpperCase() + "%\"";
                new Resultados(sql, tabla).setVisible(true);
        }else if (radequipo.isSelected() == true) {
            /*DataBaseCon db = new DataBaseCon();
            Connection con = db.getConection();
            try{
            con.createStatement();
            Statement st = con.createStatement();
            boolean ban=st.execute("select * from equipos where SERIE = '" +
                    txteq.getText() + "' and tipo='" + tipo.getSelectedItem() + "'");
            System.out.println("ban "+ban);
            }
            catch(SQLException e){}*/
        new AltaEqT(txteq.getText(), tipo.getSelectedItem().toString(), tipo.getSelectedIndex()).setVisible(true);
        this.setVisible(false);
        }
    }//GEN-LAST:event_buscarActionPerformed

    private void nombreKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_nombreKeyPressed
        // TODO add your handling code here:
        if (evt.getKeyCode() == 27) {
            this.setVisible(false);
        }
        if (evt.getKeyCode() == 10) {
            if (radcct.isSelected() == true) {
                 sql = "select * from " + tabla + " where cct like \"%" + cct.getText().toUpperCase() + "%\"";
            } else if (radnombre.isSelected() == true) {
                sql = "select * from " + tabla + " where nombre like \"%" + nombre.getText().toUpperCase() + "%\"";
            } else if (raddir.isSelected() == true) {
                sql = "select * from " + tabla + " where director like \"%" + director.getText().toUpperCase() + "%\"";
            }
            new Resultados(sql, tabla).setVisible(true);
            this.setVisible(false);
        }
    }//GEN-LAST:event_nombreKeyPressed

    private void cctKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_cctKeyPressed
        // TODO add your handling code here:
        if (evt.getKeyCode() == 27) {
            this.setVisible(false);
        }
        if(evt.getKeyCode()==10)
        {
        if (radcct.isSelected() == true) {
                 sql = "select * from " + tabla + " where cct like \"%" + cct.getText().toUpperCase() + "%\"";
        } else if (radnombre.isSelected() == true) {
                sql = "select * from " + tabla + " where nombre like \"%" + nombre.getText().toUpperCase() + "%\"";
        }else if (raddir.isSelected() == true) {
                sql = "select * from " + tabla + " where director like \"%" + director.getText().toUpperCase() + "%\"";
        }
        new Resultados(sql, tabla).setVisible(true);
        this.setVisible(false);
        }
    }//GEN-LAST:event_cctKeyPressed

    private void directorKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_directorKeyPressed
        // TODO add your handling code here:
        if (evt.getKeyCode() == 27) {
            this.setVisible(false);
        }
        if(evt.getKeyCode()==10)
        {
        if (radcct.isSelected() == true) {
                 sql = "select * from " + tabla + " where cct like \"%" + cct.getText().toUpperCase() + "%\"";
        } else if (radnombre.isSelected() == true) {
                sql = "select * from " + tabla + " where nombre like \"%" + nombre.getText().toUpperCase() + "%\"";
        }else if (raddir.isSelected() == true) {
                sql = "select * from " + tabla + " where director like \"%" + director.getText().toUpperCase() + "%\"";
        }
        new Resultados(sql, tabla).setVisible(true);
        this.setVisible(false);
        }
    }//GEN-LAST:event_directorKeyPressed

    private void txteqKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txteqKeyPressed
        // TODO add your handling code here:
        if (evt.getKeyCode() == 27) {
            this.setVisible(false);
        }
        if(evt.getKeyCode()==10){
            new AltaEqT(txteq.getText(), tipo.getSelectedItem().toString(), tipo.getSelectedIndex()).setVisible(true);
        this.setVisible(false);
        }
    }//GEN-LAST:event_txteqKeyPressed

    private void tipoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tipoKeyPressed
        if(evt.getKeyCode()==10){
            new AltaEqT(txteq.getText(), tipo.getSelectedItem().toString(), tipo.getSelectedIndex()).setVisible(true);
        this.setVisible(false);}
    }//GEN-LAST:event_tipoKeyPressed

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Busquedas("").setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton buscar;
    private javax.swing.JTextField cct;
    private javax.swing.JTextField director;
    private javax.swing.ButtonGroup grupo;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JTextField nombre;
    private javax.swing.JRadioButton radcct;
    private javax.swing.JRadioButton raddir;
    private javax.swing.JRadioButton radequipo;
    private javax.swing.JRadioButton radnombre;
    private javax.swing.JComboBox tipo;
    private javax.swing.JTextField txteq;
    // End of variables declaration//GEN-END:variables
    static String sql="";
    static String tabla="";
}

